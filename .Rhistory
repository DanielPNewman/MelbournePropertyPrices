axis.text.x  =  element_blank(),
axis.title.y = element_text(face="bold", size=12),
axis.text.y  = element_text(angle=0, vjust=0.5, size=11),
legend.title = element_text(size=12, face="bold"),
legend.text = element_text(size = 12, face = "bold"),
plot.title = element_text(face="bold", size=14)) +
ggtitle("Store Revenue per State from 2012 to 2015") +
facet_wrap(~year)
# htmlwidget call
ggiraph(code = {print(point_interactive_plot)}, zoom_max = 5,
tooltip_offx = 20, tooltip_offy = -10,
hover_css = "fill:red;",
tooltip_opacity = 0.7,
pointsize = 12)
df$tooltip <- paste0(
"<b>", df$`store ID`, "</b>",
"<br>(", df$state, ")",
"<br>Revenue:",
"<br>$", df$`Revenue ($)`,
"</span></div>"
)
point_interactive_plot <- ggplot() +
geom_boxplot_interactive(data=df, mapping=aes(state, `Revenue ($)`,
colour=state,
tooltip=state)) +
geom_point_interactive(data=df, mapping=aes(state, `Revenue ($)`,
colour=state,
tooltip=tooltip)) +
theme(axis.title.x =  element_blank(),
axis.text.x  =  element_blank(),
axis.title.y = element_text(face="bold", size=12),
axis.text.y  = element_text(angle=0, vjust=0.5, size=11),
legend.title = element_text(size=12, face="bold"),
legend.text = element_text(size = 12, face = "bold"),
plot.title = element_text(face="bold", size=14)) +
ggtitle("Store Revenue per State from 2012 to 2015") +
facet_wrap(~year)
# htmlwidget call
ggiraph(code = {print(point_interactive_plot)}, zoom_max = 5,
tooltip_offx = 20, tooltip_offy = -10,
hover_css = "fill:red;",
tooltip_opacity = 0.7,
pointsize = 12)
df$tooltip_point <- paste0(
"<b>", df$`store ID`, "</b>",
"<br>(", df$state, ")",
"<br>Revenue:",
"<br>$", df$`Revenue ($)`,
"</span></div>"
)
point_interactive_plot <- ggplot() +
geom_boxplot_interactive(data=df, mapping=aes(state, `Revenue ($)`,
colour=state,
tooltip=state)) +
geom_point_interactive(data=df, mapping=aes(state, `Revenue ($)`,
colour=state,
tooltip=tooltip_point)) +
theme(axis.title.x =  element_blank(),
axis.text.x  =  element_blank(),
axis.title.y = element_text(face="bold", size=12),
axis.text.y  = element_text(angle=0, vjust=0.5, size=11),
legend.title = element_text(size=12, face="bold"),
legend.text = element_text(size = 12, face = "bold"),
plot.title = element_text(face="bold", size=14)) +
ggtitle("Store Revenue per State from 2012 to 2015") +
facet_wrap(~year)
point_interactive_plot <- ggplot(df, aes(state, `Revenue ($)`)) +
geom_boxplot_interactive(mapping=aes(colour=state,
tooltip=state)) +
geom_point_interactive(mapping=aes(colour=state,
tooltip=tooltip_point)) +
theme(axis.title.x =  element_blank(),
axis.text.x  =  element_blank(),
axis.title.y = element_text(face="bold", size=12),
axis.text.y  = element_text(angle=0, vjust=0.5, size=11),
legend.title = element_text(size=12, face="bold"),
legend.text = element_text(size = 12, face = "bold"),
plot.title = element_text(face="bold", size=14)) +
ggtitle("Store Revenue per State from 2012 to 2015") +
facet_wrap(~year)
ggiraph(code = {print(point_interactive_plot)}, zoom_max = 5,
tooltip_offx = 20, tooltip_offy = -10,
hover_css = "fill:red;",
tooltip_opacity = 0.7,
pointsize = 12)
point_interactive_plot <- ggplot(df, aes(state, `Revenue ($)`)) +
geom_boxplot_interactive(aes(colour=state, tooltip=state)) +
geom_point_interactive(aes(colour=state, tooltip=tooltip_point)) +
theme(axis.title.x =  element_blank(),
axis.text.x  =  element_blank(),
axis.title.y = element_text(face="bold", size=12),
axis.text.y  = element_text(angle=0, vjust=0.5, size=11),
legend.title = element_text(size=12, face="bold"),
legend.text = element_text(size = 12, face = "bold"),
plot.title = element_text(face="bold", size=14)) +
ggtitle("Store Revenue per State from 2012 to 2015") +
facet_wrap(~year)
# htmlwidget call
ggiraph(code = {print(point_interactive_plot)}, zoom_max = 5,
tooltip_offx = 20, tooltip_offy = -10,
hover_css = "fill:red;",
tooltip_opacity = 0.7,
pointsize = 12)
? summarise
? mean
df<-data_frame(state=rep(c("New South Wales",
"Victoria",
"Queensland",
"Western Australia",
"South Australia",
"Tasmania"), 36)) %>%
group_by(state) %>%
mutate(year=c(rep(2012, 9), rep(2013,9),rep(2014, 9),rep(2015, 9))) %>%
group_by(state, year) %>%
mutate(`store ID` = str_c("shop_#",as.character(seq_along(state)))) %>%
group_by(state, year, `store ID`) %>%
mutate(`Revenue ($)` =  ifelse(state=="New South Wales", sample(x=c(1000000:9000000), 1),
ifelse(state=="Victoria", sample(x=c(1000000:7000000), 1),
ifelse(state=="Queensland", sample(x=c(1000000:5000000), 1),
ifelse(state=="Western Australia",sample(x=c(100000:2000000), 1),
ifelse(state=="South Australia",sample(x=c(100000:900000), 1),
ifelse(state=="Tasmania", sample(x=c(100000:2000000), 1), NA))))))) %>%
group_by(state, year) %>%
mutate(`State Total Revenue ($)` = sum(`Revenue ($)`))
View(df)
df$tooltip_point <- paste0(
"<b>", df$`store ID`, "</b>",
"<br>(", df$state, ")",
"<br>Revenue:",
"<br>$", df$`Revenue ($)`,
"</span></div>"
)
df$tooltip_boxplot <- paste0(
"<b>", df$state, "</b>",
"<br>State Total Revenue:",
"<br>$", df$`State Total Revenue ($)`,
"</span></div>"
)
#Create the text you want displayed in the tooltop for
df$tooltip_point <- paste0(
"<b>", df$`store ID`, "</b>",
"<br>(", df$state, ")",
"<br>Revenue:",
"<br>$", df$`Revenue ($)`,
"</span></div>"
)
df$tooltip_boxplot <- paste0(
"<b>", df$state, "</b>",
"<br>State Total Revenue:",
"<br>$", df$`State Total Revenue ($)`,
"</span></div>"
)
#Make the plot, replacing 'geom_boxplot' and 'geom_point' with 'geom_boxplot_interactive' and 'geom_point_interactive'
point_interactive_plot <- ggplot(df, aes(state, `Revenue ($)`)) +
geom_boxplot_interactive(aes(colour=state, tooltip=tooltip_boxplot)) +
geom_point_interactive(aes(colour=state, tooltip=tooltip_point)) +
theme(axis.title.x =  element_blank(),
axis.text.x  =  element_blank(),
axis.title.y = element_text(face="bold", size=12),
axis.text.y  = element_text(angle=0, vjust=0.5, size=11),
legend.title = element_text(size=12, face="bold"),
legend.text = element_text(size = 12, face = "bold"),
plot.title = element_text(face="bold", size=14)) +
ggtitle("Store Revenue per State from 2012 to 2015") +
facet_wrap(~year)
# htmlwidget call
ggiraph(code = {print(point_interactive_plot)}, zoom_max = 5,
tooltip_offx = 20, tooltip_offy = -10,
hover_css = "fill:red;",
tooltip_opacity = 0.7,
pointsize = 12)
head(df)
### Install/load required packages
#List of R packages required for this analysis:
required_packages <- c("ggplot2", "stringr", "ggiraph", "dplyr")
#Install required_packages:
new.packages <- required_packages[!(required_packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
#Load required_packages:
lapply(required_packages, require, character.only = TRUE)
#Set decimal points and disable scientific notation
options(digits=3, scipen=999)
#Make up some fake data
df<-data_frame(state=rep(c("New South Wales",
"Victoria",
"Queensland",
"Western Australia",
"South Australia",
"Tasmania"), 36)) %>%
group_by(state) %>%
mutate(year=c(rep(2012, 9), rep(2013,9),rep(2014, 9),rep(2015, 9))) %>%
group_by(state, year) %>%
mutate(`store ID` = str_c("shop_#",as.character(seq_along(state)))) %>%
group_by(state, year, `store ID`) %>%
mutate(`Revenue ($)` =  ifelse(state=="New South Wales", sample(x=c(1000000:9000000), 1),
ifelse(state=="Victoria", sample(x=c(1000000:7000000), 1),
ifelse(state=="Queensland", sample(x=c(1000000:5000000), 1),
ifelse(state=="Western Australia",sample(x=c(100000:2000000), 1),
ifelse(state=="South Australia",sample(x=c(100000:900000), 1),
ifelse(state=="Tasmania", sample(x=c(100000:2000000), 1), NA))))))) %>%
group_by(state, year) %>%
mutate(`State Total Revenue ($)` = sum(`Revenue ($)`))
head(df)
#Create the text you want displayed in the tooltop for geom_point_interactive
df$tooltip_point <- paste0(
"<b>", df$`store ID`, "</b>",
"<br>(", df$state, ")",
"<br>Revenue:",
"<br>$", df$`Revenue ($)`,
"</span></div>"
)
#Create the text you want displayed in the tooltop for geom_boxplot_interactive
df$tooltip_boxplot <- paste0(
"<b>", df$state, "</b>",
"<br>State Total Revenue:",
"<br>$", df$`State Total Revenue ($)`,
"</span></div>"
)
#Make plot reactive to user's mouse with
#'geom_boxplot_interactive' and 'geom_point_interactive'
point_interactive_plot <- ggplot(df, aes(state, `Revenue ($)`)) +
geom_boxplot_interactive(aes(colour=state, tooltip=tooltip_boxplot)) +
geom_point_interactive(aes(colour=state, tooltip=tooltip_point)) +
theme(axis.title.x =  element_blank(),
axis.text.x  =  element_blank(),
axis.title.y = element_text(face="bold", size=12),
axis.text.y  = element_text(angle=0, vjust=0.5, size=11),
legend.title = element_text(size=12, face="bold"),
legend.text = element_text(size = 12, face = "bold"),
plot.title = element_text(face="bold", size=14)) +
ggtitle("Store Revenue per State from 2012 to 2015") +
facet_wrap(~year)
# htmlwidget call
ggiraph(code = {print(point_interactive_plot)}, zoom_max = 5,
tooltip_offx = 20, tooltip_offy = -10,
hover_css = "fill:red;",
tooltip_opacity = 0.7,
pointsize = 12)
? kable
kable(head(df))
### Install/load required packages
#List of R packages required for this analysis:
required_packages <- c("ggplot2", "stringr", "knitr", "dplyr", "ggiraph")
#Install required_packages:
new.packages <- required_packages[!(required_packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
#Load required_packages:
lapply(required_packages, require, character.only = TRUE)
#Set decimal points and disable scientific notation
options(digits=3, scipen=999)
kable(head(df))
install.packages("rgeos")
#Install required_packages:
required_packages <- c("ggmap", "ggplot2", "ggiraph")
new.packages <- required_packages[!(required_packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
#Load required_packages:
lapply(required_packages, require, character.only = TRUE)
#Make small example data set:
suburb<-c("BURNLEY","COLLINGWOOD","MALVERN","PRAHRAN","RICHMOND","SOUTH YARRA","ST KILDA","ST KILDA WEST","TOORAK","WINDSOR")
lon<-c(145.0176466,144.98815,145.036,144.998,144.998,144.989,144.982,144.9732,145.018,144.988)
lat<-c(-37.8299258, -37.8019,-37.857,-37.852,-37.823,-37.84,-37.864,-37.8604,-37.841,-37.854)
`Change 2005-2015 (%)`<-c(112, 120, 136, 127, 122, 115, 110, 146, 120, 128)
df<-data.frame(suburb, lon, lat, `Change 2005-2015 (%)`)
#Download map from google maps
SOUTH_YARRA <- get_map(location = 'South Yarra, Australia', zoom = 13, maptype="terrain")
ggmap(SOUTH_YARRA) +
geom_point(data = df,
aes(x =lon, y= lat, size=`Change 2005-2015 (%)`, colour = `Change 2005-2015 (%)`),
alpha=0.75) +
scale_colour_gradientn(colours=rainbow(5)) +
scale_radius (range = c(6, 12), trans = "identity", guide = "legend") +
ggtitle("Total change in Median \n House Price (%) from 2005-2015 \n")
#Try add reactivity using ggiraph's geom_point_interactive() instead of geom_point()
interactive_map<-ggmap(SOUTH_YARRA) +
geom_point_interactive(data = df,
aes(x =lon, y= lat, size=`Change 2005-2015 (%)`, colour = `Change 2005-2015 (%)`, tooltip=suburb, data_id = suburb),
alpha=0.75) +
scale_colour_gradientn(colours=rainbow(5)) +
scale_radius (range = c(6, 12), trans = "identity", guide = "legend") +
ggtitle("Total change in Median Melbourne \n House Price (%) from 2005-2015 \n")
ggiraph(code = {print(interactive_map)}, zoom_max = 5,
tooltip_offx = 20, tooltip_offy = -10,
hover_css = "fill:black;",
tooltip_opacity = 0.7)
library(ReporteRs)
install.packages("ReporteRs")
library(ReporteRs)
require( ggplot2 )
doc = docx( title = 'My document' )
doc = addTitle( doc , 'First 5 lines of iris', level = 1)
doc = addFlexTable( doc , vanilla.table(iris[1:5, ]),
layout.properties= get.light.tableProperties())
doc = addTitle( doc , 'ggplot2 example', level = 1)
myggplot = qplot(Sepal.Length, Petal.Length, data = iris, color = Species, size = Petal.Width )
doc = addPlot( doc = doc , fun = print, x = myggplot )
doc = addTitle( doc , 'Text example', level = 1)
doc = addParagraph( doc, 'My tailor is rich.', stylename = 'Normal' )
writeDoc( doc, 'files/gettingstarted/my_first_doc.docx' )
writeDoc( doc, 'my_first_doc.docx' )
myplot = qplot(Sepal.Length, Petal.Length,
data = iris, color = Species,
size = Petal.Width, alpha = I(0.7) )
# Create a new document
mydoc = pptx( title = "EVG demo" )
mydoc = addSlide( mydoc, "Two Content" )
mydoc = addTitle( mydoc, "Vector graphics format versus raster format" )
mydoc = addPlot( mydoc, function( ) print( myplot ), vector.graphic = TRUE )
mydoc = addPlot( mydoc, function( ) print( myplot ), vector.graphic = FALSE )
writeDoc( mydoc, file = "files/evg/EVG_example.pptx" )
myplot = qplot(Sepal.Length, Petal.Length,
data = iris, color = Species,
size = Petal.Width, alpha = I(0.7) )
# Create a new document
mydoc = pptx( title = "EVG demo" )
mydoc = addSlide( mydoc, "Two Content" )
mydoc = addTitle( mydoc, "Vector graphics format versus raster format" )
mydoc = addPlot( mydoc, function( ) print( myplot ), vector.graphic = TRUE )
mydoc = addPlot( mydoc, function( ) print( myplot ), vector.graphic = FALSE )
writeDoc( mydoc, file = "EVG_example.pptx" )
? addSlide
source('~/.active-rstudio-document')
myplot = qplot(Sepal.Length, Petal.Length,
data = iris, color = Species,
size = Petal.Width, alpha = I(0.7) )
# Create a new document
mydoc = pptx( title = "EVG demo" )
mydoc = addSlide( mydoc, "Four Content" )
mydoc = addTitle( mydoc, "Vector graphics format versus raster format" )
mydoc = addPlot( mydoc, function( ) print( myplot ), vector.graphic = TRUE )
mydoc = addPlot( mydoc, function( ) print( myplot ), vector.graphic = FALSE )
writeDoc( mydoc, file = "EVG_example.pptx" )
myplot = qplot(Sepal.Length, Petal.Length,
data = iris, color = Species,
size = Petal.Width, alpha = I(0.7) )
# Create a new document
mydoc = pptx( title = "EVG demo" )
mydoc = addSlide( mydoc, "Four Content" )
mydoc = addTitle( mydoc, "Vector graphics format versus raster format" )
mydoc = addPlot( mydoc, function( ) print( myplot ), vector.graphic = TRUE )
mydoc = addPlot( mydoc, function( ) print( myplot ), vector.graphic = FALSE )
writeDoc( mydoc, file = "EVG_example.pptx" )
plot(sin, -pi, 2*pi)
library(ReporteRs)
require( ggplot2 )
doc = docx( title = 'My document' )
doc = addTitle( doc , 'First 5 lines of iris', level = 1)
doc = addFlexTable( doc , vanilla.table(iris[1:5, ]),
layout.properties= get.light.tableProperties())
doc = addTitle( doc , 'ggplot2 example', level = 1)
myggplot = qplot(Sepal.Length, Petal.Length, data = iris, color = Species, size = Petal.Width )
doc = addPlot( doc = doc , fun = print, x = myggplot )
doc = addTitle( doc , 'Text example', level = 1)
doc = addParagraph( doc, 'My tailor is rich.', stylename = 'Normal' )
doc = docx()
doc = addPlot( doc, fun = function() plot(sin, -pi, 2*pi), vector.graphic = TRUE )
writeDoc( doc, 'my_first_doc.docx' )
library(ReporteRs)
require( ggplot2 )
doc = docx( title = 'My document' )
doc = addTitle( doc , 'First 5 lines of iris', level = 1)
doc = addFlexTable( doc , vanilla.table(iris[1:5, ]),
layout.properties= get.light.tableProperties())
doc = addTitle( doc , 'ggplot2 example', level = 1)
myggplot = qplot(Sepal.Length, Petal.Length, data = iris, color = Species, size = Petal.Width )
doc = addPlot( doc = doc , fun = print, x = myggplot )
doc = addTitle( doc , 'Text example', level = 1)
doc = addParagraph( doc, 'My tailor is rich.', stylename = 'Normal' )
doc = docx()
doc = addPlot( doc, fun = function() plot(sin, -pi, 2*pi), vector.graphic = TRUE )
writeDoc( doc, 'my_first_doc.docx' )
require( ggplot2 )
doc = docx( title = 'My document' )
doc = addTitle( doc , 'First 5 lines of iris', level = 1)
doc = addFlexTable( doc , vanilla.table(iris[1:5, ]),
layout.properties= get.light.tableProperties())
doc = addTitle( doc , 'ggplot2 example', level = 1)
myggplot = qplot(Sepal.Length, Petal.Length, data = iris, color = Species, size = Petal.Width )
doc = addPlot( doc = doc , fun = print, x = myggplot )
doc = addTitle( doc , 'Text example', level = 1)
doc = addParagraph( doc, 'My tailor is rich.', stylename = 'Normal' )
writeDoc( doc, 'my_first_doc.docx' )
doc = docx( title = 'My document' )
doc = addTitle( doc , 'First 5 lines of iris', level = 1)
doc = addFlexTable( doc , vanilla.table(iris[1:5, ]),
layout.properties= get.light.tableProperties())
doc = addTitle( doc , 'ggplot2 example', level = 1)
myggplot = qplot(Sepal.Length, Petal.Length, data = iris, color = Species, size = Petal.Width )
doc = addPlot( doc = doc , fun = print, x = myggplot, vector.graphic = TRUE)
doc = addTitle( doc , 'Text example', level = 1)
doc = addParagraph( doc, 'My tailor is rich.', stylename = 'Normal' )
doc = addPlot( doc, fun = function() plot(sin, -pi, 2*pi), vector.graphic = TRUE )
writeDoc( doc, 'my_first_doc.docx' )
require(rJava)
.jcall('java.lang.System','S','getProperty','java.version')
#Note to run the animation you will have to instal Imagemagik from http://www.imagemagick.org/script/binary-releases.php
# when you install Imagemagik remember to select the "instal legacy files" option so convert.exe is included
#Set working directory where this script and the raw excel file are saved
setwd("C:/Users/Dan/Documents/GitHub/MelbournePropertyPrices")
### Install/load required packages
#List of R packages required for this analysis:
required_packages <- c("ggmap", "readr", "ggplot2", "dplyr", "readxl","tidyr",
"stringr", "gganimate","animation","ggiraph", "viridis")
#Install required_packages:
new.packages <- required_packages[!(required_packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
#Load required_packages:
lapply(required_packages, require, character.only = TRUE)
#Set decimal points and disable scientific notation
options(digits=8, scipen=999)
###Load Map
# Can download using get_map function:
# Melbourne <- get_map(location = 'Melbourne, Australia', zoom = 10, maptype="terrain")
# But I saved it to workind directory so can load it and work offline:
load("Melbourne.rda")
###Load Apartment price data
# Got this data here http://www.dtpli.vic.gov.au/property-and-land-titles/property-information/property-prices ...
# ...but saved it to workind directory so can load it and work offline
suburb_Apartment_2015<-read_excel("suburb_unit_2015.xls", col_names=F, skip = 3) %>%
na.omit() %>%
distinct() %>%
mutate(`Property Type`="Apartment")
#Load House Price Data and row bind it to Apartment price data
property_2005_2015<-read_excel("suburb_house_2015.xls", col_names=F, skip = 3) %>%
na.omit() %>%
distinct() %>%
mutate(`Property Type`="House") %>%
bind_rows(suburb_Apartment_2015)
rm(suburb_Apartment_2015)
#rename the columns
names(property_2005_2015)<-c("suburb", 2005:2015, "Prelim 2016", "Change 2014-2015 (%)", "Change 2005-2015 (%)", "Growth (%) PA 2005-2015","Property Type")
# assuming that "-" and "0" means data not available (NA),
property_2005_2015[property_2005_2015 == 0] <- NA
property_2005_2015[property_2005_2015 == "-"] <- NA
## Read in the lat/long data:
# Also saved it to workind directory so can load it and work offline:
lat_long<-read_csv("Australian_Post_Codes_Lat_Lon.csv")  %>%
mutate(postcode=as.character(postcode)) %>%
distinct() %>%
select(-dc, -type)
#create VIC only lat_long
VIC_lat_long<- lat_long %>%
filter(state=="VIC") %>%
select(-postcode) %>%
distinct() %>%
filter(suburb %in%  property_2005_2015$suburb)
#Merge VIC_lat_long into property_2005_2015
property_2005_2015<- full_join(property_2005_2015, VIC_lat_long,  by=c("suburb"))
rm(VIC_lat_long)
property_2005_2015 <- property_2005_2015 %>%
mutate(`Change 2014-2015 (%)` = as.numeric(`Change 2014-2015 (%)`),
`Change 2005-2015 (%)` = as.numeric(`Change 2005-2015 (%)`),
`Growth (%) PA 2005-2015` = as.numeric(`Growth (%) PA 2005-2015`),
`Change 2005-2015 ($)` = as.numeric(`2015`)-as.numeric(`2005`)) %>%
distinct()
#melt from wide to long format
property_2005_2015<-property_2005_2015 %>%
gather(key=Year, value=`Median Price ($)`, -suburb, -lon, -lat, -state, -`Property Type`, -`Change 2014-2015 (%)`, -`Change 2005-2015 (%)`, -`Growth (%) PA 2005-2015`, -`Change 2005-2015 ($)`) %>%
mutate(`Median Price ($)`=as.numeric(`Median Price ($)`)) %>%
distinct()
p1<-ggmap(Melbourne) +
geom_point(data = property_2005_2015,
aes(x =lon, y= lat, frame = Year, size=`Median Price ($)`,
colour = `Median Price ($)`), alpha=.75, shape="$") +
# scale_colour_gradientn(colours=rainbow(5)) +
scale_color_viridis() +
scale_radius (range = c(5, 14), trans = "identity", guide = "legend") +
facet_wrap(~`Property Type`) +
ggtitle("Median Melbourne Property Prices ($) from 2005-2016 \n")
p1 <- p1 + theme(aspect.ratio=1) +
theme(axis.title.x = element_blank(),
axis.text.x  =  element_blank(),
axis.title.x = element_blank(),
axis.ticks.x=element_blank(),
axis.text.y  =  element_blank(),
axis.title.y = element_blank(),
axis.ticks.y=element_blank(),
legend.title = element_text(size=14, face="bold"),
legend.text = element_text(size = 14, face = "bold"),
strip.text.x = element_text(size=14, face="bold"),
plot.title = element_text(size = 16, face = "bold"),
legend.position="right")
#Save the .gif to working directory
gg_animate(p1, 'Melbourne.gif', ani.width = 500, ani.height = 300, interval = 0.75)
#show the gif in the graphics pannel
gg_animate(p1)
p1<-ggmap(Melbourne) +
geom_point(data = property_2005_2015,
aes(x =lon, y= lat, frame = Year, size=`Median Price ($)`,
colour = `Median Price ($)`), alpha=.75, shape="$") +
# scale_colour_gradientn(colours=rainbow(5)) +
scale_color_viridis() +
scale_radius (range = c(5, 14), trans = "identity", guide = "legend") +
facet_wrap(~`Property Type`) +
ggtitle("Median Melbourne Property \n Prices ($) from 2005-2016 \n")
p1 <- p1 + theme(aspect.ratio=1) +
theme(axis.title.x = element_blank(),
axis.text.x  =  element_blank(),
axis.title.x = element_blank(),
axis.ticks.x=element_blank(),
axis.text.y  =  element_blank(),
axis.title.y = element_blank(),
axis.ticks.y=element_blank(),
legend.title = element_text(size=14, face="bold"),
legend.text = element_text(size = 14, face = "bold"),
strip.text.x = element_text(size=14, face="bold"),
plot.title = element_text(size = 16, face = "bold"),
legend.position="right")
#Save the .gif to working directory
gg_animate(p1, 'Melbourne.gif', ani.width = 500, ani.height = 300, interval = 0.75)
#show the gif in the graphics pannel
gg_animate(p1)
